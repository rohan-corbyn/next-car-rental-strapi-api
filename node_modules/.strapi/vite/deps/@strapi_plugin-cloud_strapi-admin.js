import {
  pluginId
} from "./chunk-R3LED7RH.js";
import {
  ForwardRef$4n
} from "./chunk-WZY5PA25.js";
import "./chunk-5X33LEM2.js";
import "./chunk-4TLEAYTE.js";
import {
  require_react
} from "./chunk-GF5JX4LW.js";
import {
  __toESM
} from "./chunk-PLDDJCW6.js";

// ../../node_modules/.pnpm/@strapi+plugin-cloud@5.12.5_03a4a1dcf66106fbc8f0d91adfe9a67c/node_modules/@strapi/plugin-cloud/dist/admin/components/Initializer.mjs
var import_react = __toESM(require_react(), 1);
var Initializer = ({ setPlugin }) => {
  const ref = (0, import_react.useRef)(setPlugin);
  (0, import_react.useEffect)(() => {
    ref.current(pluginId);
  }, []);
  return null;
};

// ../../node_modules/.pnpm/@strapi+plugin-cloud@5.12.5_03a4a1dcf66106fbc8f0d91adfe9a67c/node_modules/@strapi/plugin-cloud/dist/admin/utils/prefixPluginTranslations.mjs
var prefixPluginTranslations = (trad, pluginId2) => {
  return Object.keys(trad).reduce((acc, current) => {
    acc[`${pluginId2}.${current}`] = trad[current];
    return acc;
  }, {});
};

// ../../node_modules/.pnpm/@strapi+plugin-cloud@5.12.5_03a4a1dcf66106fbc8f0d91adfe9a67c/node_modules/@strapi/plugin-cloud/dist/admin/index.mjs
function __variableDynamicImportRuntime1__(path) {
  switch (path) {
    case "./translations/en.json":
      return import("./en.json-26XBMX67.js");
    case "./translations/fr.json":
      return import("./fr.json-5FWCVJHS.js");
    case "./translations/uk.json":
      return import("./uk.json-IZAVUL7M.js");
    default:
      return new Promise(function(resolve, reject) {
        (typeof queueMicrotask === "function" ? queueMicrotask : setTimeout)(
          reject.bind(null, new Error("Unknown variable dynamic import: " + path))
        );
      });
  }
}
var name = "Deploy";
var index = {
  register(app) {
    const { backendURL } = window.strapi;
    if (backendURL == null ? void 0 : backendURL.includes("localhost")) {
      app.addMenuLink({
        to: `plugins/${pluginId}`,
        icon: ForwardRef$4n,
        intlLabel: {
          id: `${pluginId}.plugin.name`,
          defaultMessage: name
        },
        Component: async () => {
          const { App } = await import("./App-DTWOYUQL.js");
          return App;
        }
      });
      const plugin = {
        id: pluginId,
        initializer: Initializer,
        isReady: false,
        name
      };
      app.registerPlugin(plugin);
    }
  },
  async registerTrads(app) {
    const { locales } = app;
    const importedTrads = await Promise.all(locales.map((locale) => {
      return __variableDynamicImportRuntime1__(`./translations/${locale}.json`).then(({ default: data }) => {
        return {
          data: prefixPluginTranslations(data, pluginId),
          locale
        };
      }).catch(() => {
        return {
          data: {},
          locale
        };
      });
    }));
    return Promise.resolve(importedTrads);
  }
};
export {
  index as default
};
//# sourceMappingURL=@strapi_plugin-cloud_strapi-admin.js.map
